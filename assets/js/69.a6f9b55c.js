(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{266:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"自己可以实现一个new吗"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自己可以实现一个new吗"}},[s._v("#")]),s._v(" 自己可以实现一个new吗")]),s._v(" "),a("ans",[a("h4",{attrs:{id:"一。new的原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一。new的原理"}},[s._v("#")]),s._v(" 一。New的原理")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("• 以构造器的prototype属性为原型，创建新对象；\n• 将this(也就是上一句中的新对象)和调用参数传给构造器，执行；\n• 如果构造器没有手动返回对象，则返回第一步创建的对象\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"二。实现一个new"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二。实现一个new"}},[s._v("#")]),s._v(" 二。实现一个NEW")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("复制代码\nfunction create(Con, ...args) {\n    this.obj = {};//创建一个空的对象\n    //将空对象指向构造函数的原型链\n    Object.setPrototypeOf(obj, Con.prototype);\n    //obj绑定到构造函数上，便可以访问构造函数中的属性\n    let result = Con.apply(obj, args);\n    //如果返回的result是一个对象则返回该对象，new方法失效，否则返回obj\n    return result instanceof Object ? result : obj;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);